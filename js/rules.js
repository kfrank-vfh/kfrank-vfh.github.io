var ruleStructure,browsers=["chrome","firefox","safari","ie","edge"],rules={},caniuseMapping={};ruleStructure={hardware:{recording:{image:["elem","api"],audio:["elem","api"],video:["elem","api"]},output:{image:["elem","2dcontext","webgl1","webgl2"],audio:["elem","api"],video:["flash","elem"],vibration:["api"]},persistence:{keyvalue:["api"],complex:["idb1","idb2"],filesystem:["elem","direct"]},communication:{mobile:["telephony","messaging"],internet:["networkstatus","requesting"],miscellaneous:["gps","bluetooth","nfc","usb"]},sensors:{motion:{acceleration:["event","api"],rotation:["event","api"]},environment:{light:["event","api"],magnetic:["api"],proximity:["event","api"],other:["temperature","pressure","humidity"]}}},software:{communication:["emails","push","webshare"],install:["manifest"],offline:["appcache","serviceworker"],organization:{calendar:["google","apple"],contacts:["google","apple"],miscellaneous:["alarm","notes"]},maps:["google","apple","open"],sales:["checkout","payreq"],speech:["synthesis","recognition"]}},caniuseMapping["hardware.recording.image.api"]="stream",caniuseMapping["hardware.recording.audio.api"]="stream",caniuseMapping["hardware.recording.video.api"]="stream",caniuseMapping["hardware.output.image.2dcontext"]="canvas",caniuseMapping["hardware.output.image.webgl1"]="webgl",caniuseMapping["hardware.output.image.webgl2"]="webgl2",caniuseMapping["hardware.output.audio.elem"]="audio",caniuseMapping["hardware.output.audio.api"]="audio-api",caniuseMapping["hardware.output.video.elem"]="video",caniuseMapping["hardware.output.vibration.api"]="vibration",caniuseMapping["hardware.persistence.keyvalue.api"]="namevalue-storage",caniuseMapping["hardware.persistence.complex.idb1"]="indexeddb",caniuseMapping["hardware.persistence.complex.idb2"]="indexeddb2",caniuseMapping["hardware.communication.miscellaneous.gps"]="geolocation",caniuseMapping["hardware.communication.miscellaneous.bluetooth"]="web-bluetooth",caniuseMapping["hardware.communication.miscellaneous.usb"]="webusb",caniuseMapping["hardware.sensors.motion.acceleration.event"]="deviceorientation",caniuseMapping["hardware.sensors.motion.acceleration.api"]="accelerometer",caniuseMapping["hardware.sensors.motion.rotation.event"]="deviceorientation",caniuseMapping["hardware.sensors.motion.rotation.api"]="gyroscope",caniuseMapping["hardware.sensors.environment.magnetic.api"]="magnetometer",caniuseMapping["software.install.manifest"]="web-app-manifest",caniuseMapping["software.offline.appcache"]="offline-apps",caniuseMapping["software.offline.serviceworker"]="serviceworkers",caniuseMapping["software.sales.payreq"]="payment-request",caniuseMapping["software.speech.synthesis"]="speech-synthesis",caniuseMapping["software.speech.recognition"]="speech-recognition";var baseURL="https://raw.githubusercontent.com/Fyrd/caniuse/master/features-json/",caniuseSupportData={};function convertSupportData(e){var r={};return browsers.forEach(function(a){var s=[],i=e.stats[a];Object.keys(i).sort(function(e,r){return parseFloat(e.split("-")[0])-parseFloat(r.split("-")[0])}).forEach(function(e){var r=i[e];r=0===(r=0===r.indexOf("n")?"n":r).indexOf("p")?"n":r;var a=s.length?s[s.length-1]:void 0;a&&a.support===r||s.push({version:parseFloat(e.split("-")[0]),support:r})}),s=s.map(function(r){if(r.support.indexOf("#")>0){var s=r.support.split("#")[1];r.note=e.notes_by_num[s]}return r.support.indexOf("x")>0&&(r.note="Supported with prefix: "+("firefox"===a?"moz":"webkit")),r.support=r.support.substring(0,1),r}),r[a]=s}),r}Object.keys(caniuseMapping).map(function(e){return caniuseMapping[e]}).filter(function(e,r,a){return a.indexOf(e)===r}).forEach(function(e){var r=baseURL+e+".json";$.get(r,function(r){browsers.every(function(e){return e in r})||(r=convertSupportData(r)),caniuseSupportData[e]=r},"json")}),rules["hardware.recording.image.elem"]=resultForAll(!0),rules["hardware.recording.image.api"]=caniuseCheck("stream"),rules["hardware.recording.audio.elem"]=resultForAll(!0),rules["hardware.recording.audio.api"]=caniuseCheck("stream"),rules["hardware.recording.video.elem"]=resultForAll(!0),rules["hardware.recording.video.api"]=caniuseCheck("stream"),rules["hardware.output.image.elem"]=resultForAll(!0),rules["hardware.output.image.2dcontext"]=caniuseCheck("canvas"),rules["hardware.output.image.webgl1"]=caniuseCheck("webgl"),rules["hardware.output.image.webgl2"]=caniuseCheck("webgl2"),rules["hardware.output.audio.elem"]=caniuseCheck("audio"),rules["hardware.output.audio.api"]=caniuseCheck("audio-api");var flashSupport={version:0,support:"a",note:"Needs a Plugin to be installed. Won't be supported after 2020."};function doCheck(e,r){var a={};return Object.keys(e).forEach(function(s){var i,o=r[s];if(o.length){var n=e[s];if(0===n)i=o[o.length-1];else for(var t=o.length-1;t>=0;t--)if(o[t].version<=n){i=o[t];break}}i&&"n"!==i.support?"y"!==i.support||i.note?(a[s]={partial:"a"===i.support},i.note&&(a[s].note=i.note)):a[s]=!0:a[s]=!1}),a}function caniuseCheck(e){return function(r){return doCheck(r,caniuseSupportData[e])}}function staticCheck(e){return function(r){return doCheck(r,e)}}function resultForAll(e){var r={},a=e?"y":"n";return browsers.forEach(function(e){r[e]=[{version:0,support:a}]}),staticCheck(r)}rules["hardware.output.video.flash"]=staticCheck({chrome:[flashSupport],firefox:[flashSupport],safari:[flashSupport],ie:[flashSupport],edge:[flashSupport]}),rules["hardware.output.video.elem"]=caniuseCheck("video"),rules["hardware.output.vibration.api"]=caniuseCheck("vibration"),rules["hardware.persistence.keyvalue.api"]=caniuseCheck("namevalue-storage"),rules["hardware.persistence.complex.idb1"]=caniuseCheck("indexeddb"),rules["hardware.persistence.complex.idb2"]=caniuseCheck("indexeddb2"),rules["hardware.persistence.filesystem.elem"]=resultForAll(!0),rules["hardware.persistence.filesystem.direct"]=resultForAll(!1),rules["hardware.communication.mobile.telephony"]=resultForAll(!0),rules["hardware.communication.mobile.messaging"]=resultForAll(!0),rules["hardware.communication.internet.networkstatus"]=staticCheck({chrome:[{version:61,support:"y"}],firefox:[{version:31,support:"a",note:"Available only on mobile devices."}],safari:[],ie:[],edge:[]}),rules["hardware.communication.internet.requesting"]=staticCheck({chrome:[{version:0,support:"y"}],firefox:[{version:0,support:"y"}],safari:[{version:1.2,support:"y"}],ie:[{version:7,support:"y"}],edge:[{version:0,support:"y"}]}),rules["hardware.communication.miscellaneous.gps"]=caniuseCheck("geolocation"),rules["hardware.communication.miscellaneous.bluetooth"]=caniuseCheck("web-bluetooth"),rules["hardware.communication.miscellaneous.nfc"]=resultForAll(!1),rules["hardware.communication.miscellaneous.usb"]=caniuseCheck("webusb"),rules["hardware.sensors.motion.acceleration.event"]=caniuseCheck("deviceorientation"),rules["hardware.sensors.motion.acceleration.api"]=caniuseCheck("accelerometer"),rules["hardware.sensors.motion.rotation.event"]=caniuseCheck("deviceorientation"),rules["hardware.sensors.motion.rotation.api"]=caniuseCheck("gyroscope"),rules["hardware.sensors.environment.light.event"]=staticCheck({chrome:[],safari:[],ie:[],edge:[{version:0,support:"y"}],firefox:[{version:62,support:"a",note:'preference "device.sensors.ambientLight.enabled" must be set to "true".'}]}),rules["hardware.sensors.environment.light.api"]=staticCheck({chrome:[{version:54,support:"y"}],firefox:[],safari:[],ie:[],edge:[]}),rules["hardware.sensors.environment.magnetic.api"]=caniuseCheck("magnetometer"),rules["hardware.sensors.environment.proximity.event"]=staticCheck({firefox:[{version:62,support:"a",note:'preference "device.sensors.proximity.enabled" must be set to "true".'}],chrome:[],safari:[],ie:[],edge:[]}),rules["hardware.sensors.environment.proximity.api"]=resultForAll(!1),rules["hardware.sensors.environment.other.temperature"]=resultForAll(!1),rules["hardware.sensors.environment.other.pressure"]=resultForAll(!1),rules["hardware.sensors.environment.other.humidity"]=resultForAll(!1),rules["software.communication.emails"]=resultForAll(!0),rules["software.communication.push"]=staticCheck({chrome:[{version:40,support:"y"}],firefox:[{version:44,support:"y"}],safari:[{version:11.1,support:"a",note:"Safari requires a custom API."}],ie:[],edge:[{version:17,support:"y"}]}),rules["software.communication.webshare"]=staticCheck({chrome:[{version:61,support:"a",note:"Available only on mobile devices. HTTPS connection is mandatory."}],firefox:[],safari:[],ie:[],edge:[]}),rules["software.install.manifest"]=caniuseCheck("web-app-manifest"),rules["software.offline.appcache"]=caniuseCheck("offline-apps"),rules["software.offline.serviceworker"]=caniuseCheck("serviceworkers"),rules["software.organization.calendar.google"]=resultForAll(!0),rules["software.organization.calendar.apple"]=resultForAll(!1),rules["software.organization.contacts.google"]=resultForAll(!0),rules["software.organization.contacts.apple"]=resultForAll(!1),rules["software.organization.miscellaneous.alarm"]=resultForAll(!1),rules["software.organization.miscellaneous.notes"]=resultForAll(!1),rules["software.maps.google"]=resultForAll(!0),rules["software.maps.apple"]=resultForAll(!0),rules["software.maps.open"]=resultForAll(!0),rules["software.sales.checkout"]=resultForAll(!0),rules["software.sales.payreq"]=caniuseCheck("payment-request"),rules["software.speech.synthesis"]=caniuseCheck("speech-synthesis"),rules["software.speech.recognition"]=caniuseCheck("speech-recognition");